

#include "aligner/greedy_aligner.hpp"
#include "ensembler/pog_ensembler.hpp"
#include "./utils.hpp"
#include <seqan3/alignment/cigar_conversion/alignment_from_cigar.hpp>
#include <seqan3/alphabet/cigar/cigar.hpp>
#include <seqan3/alphabet/nucleotide/dna5.hpp>

using namespace seqan3::literals;

int main() {
    seqan3::dna4_vector s1 = "ACCATAATGCGTGGGGCCGACTCCGGAATGCGGTCTCCATGCGCGTTTCTCCAACCTAAGGTAGCCTGTAGTTCATTGACCTCTGATGGCGCTTATGAAACCGGGAA"_dna4;
    seqan3::dna4_vector s2 = "ACCATAATGCGTGGGGCCGACCTCGGAAATGCGGTCTCCATGCGCGTTTCCTCCAACCTAAGGTAGCCTTAGGAAGTTCATTGGACTCTGATGGCGCTTATAGAAACCGGGAA"_dna4;
    seqan3::dna4_vector s3 = "ACCATAATGCGTGGGGCCGACCTCGGAATGCGGTCTCCATGCGCGTTTCCTCCAACCTAAGGTAGCCTGTAGTTCATTGGACCTCTGGATGGCGCTTATAGAAACCGGAAG"_dna4;

    // 0000000000111111111122222222-223333333333444444444-455555555556666666---66677777777778888888888999999-99990000000
    // 0123456789012345678901234567-890123456789012345678-901234567890123456---78901234567890123456789012345-67890123456
    // ACCATAATGCGTGGGGCCGACTCCGGAA-TGCGGTCTCCATGCGCGTTTC-TCCAACCTAAGGTAGCCT---GTAGTTCATTGACCTCTGATGGCGCTTAT-GAAACCGGGAA
    // |||||||||||||||||||||  ||||| ||||||||||||||||||||| ||||||||||||||||||     |||||||||  |||||||||||||||| |||||||||||
    // ACCATAATGCGTGGGGCCGACCTCGGAAATGCGGTCTCCATGCGCGTTTCCTCCAACCTAAGGTAGCCTTAGGAAGTTCATTGGACTCTGATGGCGCTTATAGAAACCGGGAA
    // -------- 21 ---------  - 5 - --------- 21 --------


    std::vector<seqan3::dna4_vector> data{s1, s2, s3};

    partial_order_graph_ensembler<120> pe(3, 4, 7, 3, true);
    pe.ensemble(data);

    return 0;
}
